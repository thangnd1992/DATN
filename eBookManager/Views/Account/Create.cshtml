@model eBookManager.Models.AccountModel
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="margin-bot-20" style="text-align:center">Thêm mới tài khoản</h2>

<form id="form-data" @*action="/Account/Create" method="post"*@>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Tên Đăng nhập <span class="required">*</span> </label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="text" value="@Model.UserName" name="UserName" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Mật khẩu <span class="required">*</span> </label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="password" value="@Model.Password" name="Password" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Họ và tên <span class="required">*</span></label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="text" value="@Model.Name" name="Name" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Email</label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="text" value="@Model.Email" name="Email" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Địa chỉ</label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="text" value="@Model.Address" name="Address" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Lớp</label></div>
        <div class="col-lg-8">
            <select name="ClassId"  class="form-control width-300" style="height:34px">
                @foreach(var cl in Model.Classes)
                {
                    <option value="@cl.Id">@cl.ClassName</option>
                }
            </select>
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8">Quyền</label></div>
        <div class="col-lg-8">
            <input class="form-control width-300" type="text" value="@Model.Role" name="Role" />
        </div>
    </div>
    <div class="col-lg-12 margin-bot-20">
        <div class="col-lg-4"><label class="pull-right pad-top-8"></label></div>
        <div style="float:left;width:300px">
            <a class="btn btn-primary pull-right" onclick="createAccount()">Thêm mới</a>
        </div>
    </div>
</form>
<script>
    function createAccount() {
        $.ajax({
            type: "POST",
            url: '/Account/Create?' + $("#form-data").serialize(),
            dataType: "json",
            success: function (response) {
                alert(response);
                setTimeout(function () {
                    window.location.href = "/Account/GetAllAccounts";
                }, 1000);
            },
            error: function (error) {

            }
        });
    }
</script>